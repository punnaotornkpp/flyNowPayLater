<div>
  <mat-toolbar class="background-nokair border-bottom-black">
    <div
      class="col-12 d-flex justify-content-between align-items-center container container-max-width"
    >
      <div class="col logo text-align-start">
        <a href="">
          <img
            src="https://images.prismic.io/nokair-ezycommerce/166f2a16-33ac-46e3-9d80-ae0fd1b97940_Nok_Air-Logo.png?auto=compress,format"
            alt="Nok Air Logo"
        /></a>
      </div>

      <!-- <div
        class="col col-lg-1 language-selector d-flex text-align-end align-self-center"
      >
        <div>
          <mat-menu #langMenu="matMenu">
            <div class="language center">
              <img src="../../../assets/image/th.svg" alt="TH" />
            </div>
            <div class="language center">
              <img src="../../../assets/image/gb.svg" alt="EN" />
            </div>
          </mat-menu>
        </div>
        <div
          *ngIf="isSmallScreen"
          mat-icon-button
          [matMenuTriggerFor]="langMenu"
          class="cursor"
        >
          <mat-icon>menu</mat-icon>
        </div>
        <mat-select *ngIf="!isSmallScreen">
          <mat-option value="TH" class="language">
            <img src="../../../assets/image/th.svg" alt="TH" />
          </mat-option>
          <mat-option value="EN" class="language">
            <img src="../../../assets/image/gb.svg" alt="EN" />
          </mat-option>
        </mat-select>
      </div> -->
    </div>
  </mat-toolbar>
  <mat-accordion *ngIf="!index">
    <mat-expansion-panel
      class="background-nokair"
      (opened)="panelOpenState = true"
      (closed)="panelOpenState = false"
    >
      <mat-expansion-panel-header class="container container-max-width">
        <mat-panel-title
          ><div class="col-12 d-flex align-items-center f-12">
            <ng-container *ngIf="!isSmallScreen">
              <div
                class="col-6 col-lg-4 d-flex border-right-black"
                *ngFor="let journey of sessionValue?.journeys; let i = index"
                [ngClass]="{
                  'col-6': true,
                  'col-lg-4': sessionValue.journeys.length > 1,
                  'col-lg-8': sessionValue.journeys.length === 1
                }"
              >
                <div class="align-self-center px-3">
                  <mat-icon class="f-24 center transform45">flight</mat-icon>
                </div>
                <div>
                  <div>
                    {{ journey.originName || "" }}
                    To {{ journey.destinationName || "" }}
                  </div>
                  <div class="bold d-flex justify-content-between">
                    <span>{{
                      journey.departureDate | date : "EEEE d MMMM y"
                    }}</span>
                  </div>
                </div>
              </div>
            </ng-container>
            <div class="col-12 col-lg-2 border-right-black center">
              <div class="align-self-center pt-2 pb-1 f-14">
                <div *ngIf="this.sessionValue">
                  <span *ngIf="this.sessionValue.adult > 0"
                    >{{ this.sessionValue.adult || 0 }} adult
                  </span>
                  <span *ngIf="this.sessionValue.child > 0"
                    >, {{ this.sessionValue.child || 0 }} child
                  </span>
                  <span *ngIf="this.sessionValue.infant > 0"
                    >, {{ this.sessionValue.infant || 0 }} infant
                  </span>
                </div>
              </div>
              <div>
                <button
                  mat-stroked-button
                  class="f-10"
                  (click)="openSearch(); $event.stopPropagation()"
                >
                  <mat-icon class="f-20">edit</mat-icon>Edit Search
                </button>
              </div>
            </div>
            <div
              class="col-12 col-lg-2 d-flex border-right-black justify-content-center"
            >
              <span
                class="bold f-24 d-flex"
                *ngIf="this.sessionValue && this.display"
              >
                {{ this.sessionValue.currency || "" }}
                {{ display.totalAmount | number : "1.2-2" || 0 }}
              </span>
              <span
                class="bold f-24 d-flex"
                *ngIf="this.sessionValue && !this.display"
              >
                {{ this.sessionValue.currency || "" }}
                {{ 0 | number : "1.2-2" }}
              </span>
            </div>
          </div>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div
        class="container container-max-width"
        *ngIf="this.sessionValue && this.display"
      >
        <div
          class="col-12 d-flex align-items-center f-12 container-display-header"
          *ngIf="!isSmallScreen"
        >
          <div
            *ngFor="let airline of display.airlines; let i = index"
            class="row col-12 col-lg-4 d-flex px-3"
            [ngClass]="{
              'col-lg-4': display.airlines.length > 1,
              'col-lg-7': display.airlines.length === 1
            }"
          >
            <div class="row col-12 justify-content-between bold">
              <span class="col">
                {{
                  airline.travelInfos[0].departureTime | date : "EEEE d MMMM y"
                }}</span
              >
              <span class="col text-align-end">
                {{
                  airline.travelInfos[0].arrivalTime | date : "EEEE d MMMM y"
                }}
              </span>
            </div>
            <div class="row col-12 justify-content-between bold">
              <span class="col">
                {{ airline.travelInfos[0].departureTime | transformDateToTime }}
              </span>
              <span class="col text-align-end">
                {{
                  airline.travelInfos[0].arrivalTime | transformDateToTime
                }}</span
              >
            </div>
            <div class="row col-12 justify-content-between bold">
              <span class="col text-align-end">
                {{ airline.travelInfos[0].flightNumber }}</span
              >
            </div>
            <div class="row col-12 justify-content-between bold">
              <span class="col-7 f-14">Fare</span>
              <span class="col-2 text-align-end"
                ><mat-icon
                  class="bold f-24 cursor"
                  *ngIf="show"
                  (click)="showMoreDetail(show)"
                  >expand_more</mat-icon
                ><mat-icon
                  class="bold f-24 cursor"
                  *ngIf="!show"
                  (click)="showMoreDetail(show)"
                  >expand_less</mat-icon
                ></span
              >
            </div>
            <div class="row col-12 justify-content-between bold" *ngIf="!show">
              <span class="col f-14">{{ flightFareKey.fareKey }}</span>
              <span class="col text-align-end"
                >Lorem ipsum, dolor sit amet consectetur adipisicing elit.
                Saepe, nam?</span
              >
            </div>
          </div>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
